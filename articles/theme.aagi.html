<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>theme.aagi • theme.aagi</title>
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.4.2/css/all.min.css" rel="stylesheet">
<link href="../deps/font-awesome-6.4.2/css/v4-shims.min.css" rel="stylesheet">
<script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="theme.aagi">
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">theme.aagi</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.0.1</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="active nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles">
<li><a class="dropdown-item" href="../articles/theme.aagi.html">theme.aagi</a></li>
  </ul>
</li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul>
<ul class="navbar-nav">
<li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json">
</form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/AAGI-Org-AU-Public/theme.aagi/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul>
</div>


  </div>
</nav><div class="container template-article">



<link href="theme.aagi_files/tabwid-1.1.3/tabwid.css" rel="stylesheet">
<script src="theme.aagi_files/tabwid-1.1.3/tabwid.js"></script><div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>theme.aagi</h1>
                        <h4 data-toc-skip class="author">Adam H.
Sparks</h4>
            
            <h4 data-toc-skip class="date">2024-07-16</h4>
      
      <small class="dont-index">Source: <a href="https://github.com/AAGI-Org-AU-Public/theme.aagi/blob/main/vignettes/theme.aagi.Rmd" class="external-link"><code>vignettes/theme.aagi.Rmd</code></a></small>
      <div class="d-none name"><code>theme.aagi.Rmd</code></div>
    </div>

    
    
<div class="section level2">
<h2 id="how-to-create-aagi-style-graphics-and-tables">How to Create AAGI Style Graphics and Tables<a class="anchor" aria-label="anchor" href="#how-to-create-aagi-style-graphics-and-tables"></a>
</h2>
<p>The CCDM CBADA team has developed an R package, {theme.aagi}, and
this R cookbook to help ease the process of creating publication-ready
graphics in our in-house style using R’s {graphics}, {ggplot2} and
{flextable} libraries a more reproducible process, as well as making it
easier for people new to R to create beautiful graphics and tables that
adhere to AAGI style guidelines.</p>
</div>
<div class="section level2">
<h2 id="getting-started">Getting started<a class="anchor" aria-label="anchor" href="#getting-started"></a>
</h2>
<div class="section level3">
<h3 id="install-the-theme-aagi-package">Install the {theme.aagi} package<a class="anchor" aria-label="anchor" href="#install-the-theme-aagi-package"></a>
</h3>
<p>{theme.aagi} is not on CRAN, so you will have to install it directly
from our GitHub repository using {remotes}.</p>
<p>If you do not have the {remotes} package installed, you will have to
run the first line in the code below as well.</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" tabindex="-1"></a><span class="cf">if</span> (<span class="sc">!</span><span class="fu">require</span>(<span class="st">"remotes"</span>))</span>
<span id="cb1-2"><a href="#cb1-2" tabindex="-1"></a>  remotes<span class="sc">::</span><span class="fu">install_github</span>(<span class="st">"AAGI-Org-AU-Public/theme.aagi"</span>,</span>
<span id="cb1-3"><a href="#cb1-3" tabindex="-1"></a>                          <span class="at">build_vignettes =</span> <span class="cn">TRUE</span>)</span>
<span id="cb1-4"><a href="#cb1-4" tabindex="-1"></a></span>
<span id="cb1-5"><a href="#cb1-5" tabindex="-1"></a><span class="er">)</span></span></code></pre></div>
<p>For more info on {theme.aagi} check out the <a href="https://github.com/AAGI-Org-AU-Public/theme.aagi" class="external-link">package’s GitHub
repository</a>, but most of the details about how to use the package and
its functions are detailed below.</p>
<p>When you have downloaded the package and successfully installed it
you are good to go and create plots and tables.</p>
</div>
</div>
<div class="section level2">
<h2 id="creating-tables">Creating Tables<a class="anchor" aria-label="anchor" href="#creating-tables"></a>
</h2>
<p>Creating AAGI themed tables requires using {flextable}. Using the
<code>airquality</code> data set, and adding a text column to illustrate
how text columns are handled, here’s how to apply an AAGI theme to a
table.</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="st"><a href="https://github.com/AAGI-Org-AU-Public/theme.aagi" class="external-link">"theme.aagi"</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="st"><a href="https://ardata-fr.github.io/flextable-book/" class="external-link">"flextable"</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="st"><a href="https://dplyr.tidyverse.org" class="external-link">"dplyr"</a></span><span class="op">)</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Attaching package: 'dplyr'</span></span>
<span><span class="co">#&gt; The following objects are masked from 'package:stats':</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt;     filter, lag</span></span>
<span><span class="co">#&gt; The following objects are masked from 'package:base':</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt;     intersect, setdiff, setequal, union</span></span>
<span></span>
<span><span class="va">ft</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://davidgohel.github.io/flextable/reference/flextable.html" class="external-link">flextable</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="va">airquality</span><span class="op">)</span> <span class="op">|&gt;</span> </span>
<span>                  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html" class="external-link">mutate</a></span><span class="op">(</span>`Month Name` <span class="op">=</span> <span class="st">"May"</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="va">ft</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/theme_ft_aagi.html">theme_ft_aagi</a></span><span class="op">(</span><span class="va">ft</span><span class="op">)</span></span>
<span><span class="va">ft</span></span></code></pre></div>
<div class="tabwid">
<style>.cl-b08d0244{}.cl-b086d630{font-family:'Arial';font-size:11pt;font-weight:bold;font-style:normal;text-decoration:none;color:rgba(255, 255, 255, 1.00);background-color:transparent;}.cl-b086d63a{font-family:'Arial';font-size:11pt;font-weight:normal;font-style:normal;text-decoration:none;color:rgba(65, 64, 66, 1.00);background-color:transparent;}.cl-b089479e{margin:0;text-align:right;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-b08947a8{margin:0;text-align:left;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-b0895b30{width:0.75in;background-color:rgba(0, 128, 140, 1.00);vertical-align: middle;border-bottom: 0.75pt solid rgba(255, 255, 255, 1.00);border-top: 0.75pt solid rgba(255, 255, 255, 1.00);border-left: 0.75pt solid rgba(255, 255, 255, 1.00);border-right: 0.75pt solid rgba(255, 255, 255, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-b0895b3a{width:0.75in;background-color:rgba(0, 128, 140, 1.00);vertical-align: middle;border-bottom: 0.75pt solid rgba(255, 255, 255, 1.00);border-top: 0.75pt solid rgba(255, 255, 255, 1.00);border-left: 0.75pt solid rgba(255, 255, 255, 1.00);border-right: 0.75pt solid rgba(255, 255, 255, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-b0895b3b{width:0.75in;background-color:rgba(242, 242, 242, 1.00);vertical-align: middle;border-bottom: 0.75pt solid rgba(255, 255, 255, 1.00);border-top: 0.75pt solid rgba(255, 255, 255, 1.00);border-left: 0.75pt solid rgba(255, 255, 255, 1.00);border-right: 0.75pt solid rgba(255, 255, 255, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-b0895b44{width:0.75in;background-color:rgba(242, 242, 242, 1.00);vertical-align: middle;border-bottom: 0.75pt solid rgba(255, 255, 255, 1.00);border-top: 0.75pt solid rgba(255, 255, 255, 1.00);border-left: 0.75pt solid rgba(255, 255, 255, 1.00);border-right: 0.75pt solid rgba(255, 255, 255, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}</style>
<table data-quarto-disable-processing="true" class="table cl-b08d0244">
<thead><tr style="overflow-wrap:break-word;">
<th class="cl-b0895b30"><p class="cl-b089479e"><span class="cl-b086d630">Ozone</span></p></th>
<th class="cl-b0895b30"><p class="cl-b089479e"><span class="cl-b086d630">Solar.R</span></p></th>
<th class="cl-b0895b30"><p class="cl-b089479e"><span class="cl-b086d630">Wind</span></p></th>
<th class="cl-b0895b30"><p class="cl-b089479e"><span class="cl-b086d630">Temp</span></p></th>
<th class="cl-b0895b30"><p class="cl-b089479e"><span class="cl-b086d630">Month</span></p></th>
<th class="cl-b0895b30"><p class="cl-b089479e"><span class="cl-b086d630">Day</span></p></th>
<th class="cl-b0895b3a"><p class="cl-b08947a8"><span class="cl-b086d630">Month Name</span></p></th>
</tr></thead>
<tbody>
<tr style="overflow-wrap:break-word;">
<td class="cl-b0895b3b"><p class="cl-b089479e"><span class="cl-b086d63a">41</span></p></td>
<td class="cl-b0895b3b"><p class="cl-b089479e"><span class="cl-b086d63a">190</span></p></td>
<td class="cl-b0895b3b"><p class="cl-b089479e"><span class="cl-b086d63a">7.4</span></p></td>
<td class="cl-b0895b3b"><p class="cl-b089479e"><span class="cl-b086d63a">67</span></p></td>
<td class="cl-b0895b3b"><p class="cl-b089479e"><span class="cl-b086d63a">5</span></p></td>
<td class="cl-b0895b3b"><p class="cl-b089479e"><span class="cl-b086d63a">1</span></p></td>
<td class="cl-b0895b44"><p class="cl-b08947a8"><span class="cl-b086d63a">May</span></p></td>
</tr>
<tr style="overflow-wrap:break-word;">
<td class="cl-b0895b3b"><p class="cl-b089479e"><span class="cl-b086d63a">36</span></p></td>
<td class="cl-b0895b3b"><p class="cl-b089479e"><span class="cl-b086d63a">118</span></p></td>
<td class="cl-b0895b3b"><p class="cl-b089479e"><span class="cl-b086d63a">8.0</span></p></td>
<td class="cl-b0895b3b"><p class="cl-b089479e"><span class="cl-b086d63a">72</span></p></td>
<td class="cl-b0895b3b"><p class="cl-b089479e"><span class="cl-b086d63a">5</span></p></td>
<td class="cl-b0895b3b"><p class="cl-b089479e"><span class="cl-b086d63a">2</span></p></td>
<td class="cl-b0895b44"><p class="cl-b08947a8"><span class="cl-b086d63a">May</span></p></td>
</tr>
<tr style="overflow-wrap:break-word;">
<td class="cl-b0895b3b"><p class="cl-b089479e"><span class="cl-b086d63a">12</span></p></td>
<td class="cl-b0895b3b"><p class="cl-b089479e"><span class="cl-b086d63a">149</span></p></td>
<td class="cl-b0895b3b"><p class="cl-b089479e"><span class="cl-b086d63a">12.6</span></p></td>
<td class="cl-b0895b3b"><p class="cl-b089479e"><span class="cl-b086d63a">74</span></p></td>
<td class="cl-b0895b3b"><p class="cl-b089479e"><span class="cl-b086d63a">5</span></p></td>
<td class="cl-b0895b3b"><p class="cl-b089479e"><span class="cl-b086d63a">3</span></p></td>
<td class="cl-b0895b44"><p class="cl-b08947a8"><span class="cl-b086d63a">May</span></p></td>
</tr>
<tr style="overflow-wrap:break-word;">
<td class="cl-b0895b3b"><p class="cl-b089479e"><span class="cl-b086d63a">18</span></p></td>
<td class="cl-b0895b3b"><p class="cl-b089479e"><span class="cl-b086d63a">313</span></p></td>
<td class="cl-b0895b3b"><p class="cl-b089479e"><span class="cl-b086d63a">11.5</span></p></td>
<td class="cl-b0895b3b"><p class="cl-b089479e"><span class="cl-b086d63a">62</span></p></td>
<td class="cl-b0895b3b"><p class="cl-b089479e"><span class="cl-b086d63a">5</span></p></td>
<td class="cl-b0895b3b"><p class="cl-b089479e"><span class="cl-b086d63a">4</span></p></td>
<td class="cl-b0895b44"><p class="cl-b08947a8"><span class="cl-b086d63a">May</span></p></td>
</tr>
<tr style="overflow-wrap:break-word;">
<td class="cl-b0895b3b"><p class="cl-b089479e"><span class="cl-b086d63a"></span></p></td>
<td class="cl-b0895b3b"><p class="cl-b089479e"><span class="cl-b086d63a"></span></p></td>
<td class="cl-b0895b3b"><p class="cl-b089479e"><span class="cl-b086d63a">14.3</span></p></td>
<td class="cl-b0895b3b"><p class="cl-b089479e"><span class="cl-b086d63a">56</span></p></td>
<td class="cl-b0895b3b"><p class="cl-b089479e"><span class="cl-b086d63a">5</span></p></td>
<td class="cl-b0895b3b"><p class="cl-b089479e"><span class="cl-b086d63a">5</span></p></td>
<td class="cl-b0895b44"><p class="cl-b08947a8"><span class="cl-b086d63a">May</span></p></td>
</tr>
<tr style="overflow-wrap:break-word;">
<td class="cl-b0895b3b"><p class="cl-b089479e"><span class="cl-b086d63a">28</span></p></td>
<td class="cl-b0895b3b"><p class="cl-b089479e"><span class="cl-b086d63a"></span></p></td>
<td class="cl-b0895b3b"><p class="cl-b089479e"><span class="cl-b086d63a">14.9</span></p></td>
<td class="cl-b0895b3b"><p class="cl-b089479e"><span class="cl-b086d63a">66</span></p></td>
<td class="cl-b0895b3b"><p class="cl-b089479e"><span class="cl-b086d63a">5</span></p></td>
<td class="cl-b0895b3b"><p class="cl-b089479e"><span class="cl-b086d63a">6</span></p></td>
<td class="cl-b0895b44"><p class="cl-b08947a8"><span class="cl-b086d63a">May</span></p></td>
</tr>
</tbody>
</table>
</div>
<div class="section level3">
<h3 id="on-ggplot2-plots-and-graphs">On {ggplot2} Plots and Graphs<a class="anchor" aria-label="anchor" href="#on-ggplot2-plots-and-graphs"></a>
</h3>
<p>Most of the focus of {theme.aagi} is given to supporting {<a href="https://ggplot2.tidyverse.org/R" class="external-link">ggplot2</a>} visualisations, but
{base} and {graphics} plotting functionality are also supported. The
focus is given to {ggplot2} as it is more verbose and efficient in
creating data visualization based on “<em>The Grammar of Graphics</em>”
<span class="citation">(Wilkinson 2012)</span>. The layered grammar
makes developing charts more structural and easy to interpret (after you
know how to use {ggplot2} of course). One of the greatest strengths of
{ggplot2} is the ability to customise it so easily. Several themes and
colour palettes already exist for {ggplot2} to Create the visualisation
look professional and engaging for the end users. {theme.aagi} leverages
the ability to customise the appearance {ggplot2} to create a theme that
is clean, easy to use and follows AAGI’s style guidelines including
fonts and colours.</p>
<p>When using {theme.aagi} for graphs, the legend will be placed at the
top by default and the main and sub-titles will be left aligned and
captions will be right aligned. These choices can all be overridden by
using <code><a href="https://ggplot2.tidyverse.org/reference/theme.html" class="external-link">ggplot2::theme()</a></code> arguments as you wish.</p>
</div>
<div class="section level3">
<h3 id="load-the-libraries-well-need">Load the Libraries We’ll Need<a class="anchor" aria-label="anchor" href="#load-the-libraries-well-need"></a>
</h3>
<p>A few of the steps in this cookbook - and to create charts in R in
general - require certain packages to be installed and loaded. So that
you do not have to load them one by one, you can use the the following
code to load them all at once.</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">x</span> <span class="op">&lt;-</span></span>
<span>  <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"dplyr"</span>,</span>
<span>    <span class="st">"gapminder"</span>,</span>
<span>    <span class="st">"ggplot2"</span>,</span>
<span>    <span class="st">"scales"</span>,</span>
<span>    <span class="st">"theme.aagi"</span>,</span>
<span>    <span class="st">"tibble"</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/invisible.html" class="external-link">invisible</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/lapply.html" class="external-link">lapply</a></span><span class="op">(</span></span>
<span>  X <span class="op">=</span> <span class="va">x</span>,</span>
<span>  FUN <span class="op">=</span> <span class="va">library</span>,</span>
<span>  character.only <span class="op">=</span> <span class="cn">TRUE</span></span>
<span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
</div>
</div>
<div class="section level2">
<h2 id="using-theme-aagi-to-create-graphical-outputs">Using {theme.aagi} to Create Graphical Outputs<a class="anchor" aria-label="anchor" href="#using-theme-aagi-to-create-graphical-outputs"></a>
</h2>
<p>{theme.aagi} provides several functions to assist users in creating
plots, charts and graphs with a more unified AAGI style. Following are
examples of four major styles of graphs that are commonly used, bar
plots, boxplots, histograms and lines and scatter plots.</p>
<div class="section level3">
<h3 id="bar-plots">Bar Plots<a class="anchor" aria-label="anchor" href="#bar-plots"></a>
</h3>
<div class="section level4">
<h4 id="using-base-r-to-create-a-bar-plot">Using Base R to Create a bar plot<a class="anchor" aria-label="anchor" href="#using-base-r-to-create-a-bar-plot"></a>
</h4>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/barplot_aagi.html">barplot_aagi</a></span><span class="op">(</span><span class="va">islands</span><span class="op">)</span></span></code></pre></div>
<p><img src="theme.aagi_files/figure-html/bar%20plot_base-1.png" width="720"></p>
</div>
<div class="section level4">
<h4 id="using-ggplot2-to-create-a-bar-plot">Using {ggplot2} to Create a Bar Plot<a class="anchor" aria-label="anchor" href="#using-ggplot2-to-create-a-bar-plot"></a>
</h4>
<p>We need to transform a named vector to a <code>data.frame</code> for
{ggplot2} to be able to use it, so we’ll create a {tibble} first,
<code>islands_df</code> and then plot it.</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">islands_df</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://tibble.tidyverse.org/reference/tibble.html" class="external-link">tibble</a></span><span class="op">(</span>name <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/names.html" class="external-link">names</a></span><span class="op">(</span><span class="va">islands</span><span class="op">)</span>, value <span class="op">=</span> <span class="va">islands</span><span class="op">)</span></span>
<span></span>
<span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html" class="external-link">ggplot</a></span><span class="op">(</span>data <span class="op">=</span> <span class="va">islands_df</span>, <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html" class="external-link">aes</a></span><span class="op">(</span>x <span class="op">=</span> <span class="va">name</span>, y <span class="op">=</span> <span class="va">value</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_bar.html" class="external-link">geom_col</a></span><span class="op">(</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="../reference/theme_aagi.html">theme_aagi</a></span><span class="op">(</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/theme.html" class="external-link">theme</a></span><span class="op">(</span>axis.text.x <span class="op">=</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/element.html" class="external-link">element_text</a></span><span class="op">(</span>angle <span class="op">=</span> <span class="fl">90</span>, hjust <span class="op">=</span> <span class="fl">1</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<p><img src="theme.aagi_files/figure-html/bar%20plot_ggplot2-1.png" width="720"></p>
<p>Although those names are a bit difficult to read on the x-axis, so we
can flip the coordinates so that they are easier to read.</p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html" class="external-link">ggplot</a></span><span class="op">(</span>data <span class="op">=</span> <span class="va">islands_df</span>, <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html" class="external-link">aes</a></span><span class="op">(</span>x <span class="op">=</span> <span class="va">name</span>, y <span class="op">=</span> <span class="va">value</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_bar.html" class="external-link">geom_col</a></span><span class="op">(</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="../reference/theme_aagi.html">theme_aagi</a></span><span class="op">(</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/coord_flip.html" class="external-link">coord_flip</a></span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
<p><img src="theme.aagi_files/figure-html/bar%20plot_ggplot2_flipped-1.png" width="720"></p>
</div>
</div>
<div class="section level3">
<h3 id="boxplots">Boxplots<a class="anchor" aria-label="anchor" href="#boxplots"></a>
</h3>
<div class="section level4">
<h4 id="using-base-r-to-create-a-boxplot">Using Base R to Create a Boxplot<a class="anchor" aria-label="anchor" href="#using-base-r-to-create-a-boxplot"></a>
</h4>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/boxplot_aagi.html">boxplot_aagi</a></span><span class="op">(</span><span class="va">decrease</span> <span class="op">~</span> <span class="va">treatment</span>,</span>
<span>            data <span class="op">=</span> <span class="va">OrchardSprays</span>,</span>
<span>            xlab <span class="op">=</span> <span class="st">"treatment"</span>,</span>
<span>            ylab <span class="op">=</span> <span class="st">"decrease"</span><span class="op">)</span></span></code></pre></div>
<p><img src="theme.aagi_files/figure-html/boxplot-base-1.png" width="720"></p>
</div>
<div class="section level4">
<h4 id="using-ggplot2-to-create-a-boxplot">Using {ggplot2} to Create a Boxplot<a class="anchor" aria-label="anchor" href="#using-ggplot2-to-create-a-boxplot"></a>
</h4>
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="st"><a href="https://github.com/AAGI-Org-AU-Public/theme.aagi" class="external-link">"theme.aagi"</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="st"><a href="https://ggplot2.tidyverse.org" class="external-link">"ggplot2"</a></span><span class="op">)</span></span>
<span></span>
<span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html" class="external-link">ggplot</a></span><span class="op">(</span>data <span class="op">=</span> <span class="va">OrchardSprays</span>, <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html" class="external-link">aes</a></span><span class="op">(</span>x <span class="op">=</span> <span class="va">treatment</span>, y <span class="op">=</span> <span class="va">decrease</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_boxplot.html" class="external-link">geom_boxplot</a></span><span class="op">(</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/scale_continuous.html" class="external-link">scale_y_continuous</a></span><span class="op">(</span>breaks <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/seq.html" class="external-link">seq</a></span><span class="op">(</span><span class="fl">0</span>, <span class="fl">120</span>, by <span class="op">=</span> <span class="fl">20</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="../reference/theme_aagi.html">theme_aagi</a></span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
<p><img src="theme.aagi_files/figure-html/boxplot-ggplot2-1.png" width="720"></p>
</div>
</div>
<div class="section level3">
<h3 id="histograms">Histograms<a class="anchor" aria-label="anchor" href="#histograms"></a>
</h3>
<div class="section level4">
<h4 id="using-base-r-to-create-a-histogram">Using Base R to Create a Histogram<a class="anchor" aria-label="anchor" href="#using-base-r-to-create-a-histogram"></a>
</h4>
<div class="sourceCode" id="cb9"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="st"><a href="https://ggplot2.tidyverse.org" class="external-link">"ggplot2"</a></span><span class="op">)</span> <span class="co"># for diamonds data set</span></span>
<span><span class="fu"><a href="../reference/hist_aagi.html">hist_aagi</a></span><span class="op">(</span><span class="va">diamonds</span><span class="op">$</span><span class="va">carat</span><span class="op">)</span></span>
<span><span class="co">#&gt; Warning in plot.window(xlim, ylim, "", ...): "panel.first" is not a graphical</span></span>
<span><span class="co">#&gt; parameter</span></span>
<span><span class="co">#&gt; Warning in title(main = main, sub = sub, xlab = xlab, ylab = ylab, ...):</span></span>
<span><span class="co">#&gt; "panel.first" is not a graphical parameter</span></span>
<span><span class="co">#&gt; Warning in axis(1, ...): "panel.first" is not a graphical parameter</span></span>
<span><span class="co">#&gt; Warning in axis(2, at = yt, ...): "panel.first" is not a graphical parameter</span></span></code></pre></div>
<p><img src="theme.aagi_files/figure-html/hist-base-1.png" width="720"></p>
</div>
<div class="section level4">
<h4 id="using-ggplot2-to-create-a-histogram">Using {ggplot2} to Create a Histogram<a class="anchor" aria-label="anchor" href="#using-ggplot2-to-create-a-histogram"></a>
</h4>
<div class="sourceCode" id="cb10"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html" class="external-link">ggplot</a></span><span class="op">(</span>data <span class="op">=</span> <span class="va">diamonds</span>, <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html" class="external-link">aes</a></span><span class="op">(</span>x <span class="op">=</span> <span class="va">carat</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_histogram.html" class="external-link">geom_histogram</a></span><span class="op">(</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="../reference/theme_aagi.html">theme_aagi</a></span><span class="op">(</span><span class="op">)</span></span>
<span><span class="co">#&gt; `stat_bin()` using `bins = 30`. Pick better value with `binwidth`.</span></span></code></pre></div>
<p><img src="theme.aagi_files/figure-html/hist-ggplot2-1.png" width="720"></p>
</div>
</div>
<div class="section level3">
<h3 id="line-graphs">Line Graphs<a class="anchor" aria-label="anchor" href="#line-graphs"></a>
</h3>
<p>Using the {gapminder} data, we can make the following figure of life
expectancy over time in Malawi with the line in AAGI’s turquoise
colour.</p>
<div class="section level4">
<h4 id="using-base-r-to-create-a-line-graph">Using Base R to Create a Line Graph<a class="anchor" aria-label="anchor" href="#using-base-r-to-create-a-line-graph"></a>
</h4>
<div class="sourceCode" id="cb11"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Data for chart from {gapminder} package</span></span>
<span><span class="va">line_df</span> <span class="op">&lt;-</span> <span class="va">gapminder</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html" class="external-link">filter</a></span><span class="op">(</span><span class="va">country</span> <span class="op">==</span> <span class="st">"Malawi"</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/arrange.html" class="external-link">arrange</a></span><span class="op">(</span><span class="va">year</span><span class="op">)</span></span>
<span></span>
<span><span class="fu"><a href="../reference/plot_aagi.html">plot_aagi</a></span><span class="op">(</span></span>
<span>  x <span class="op">=</span> <span class="va">line_df</span><span class="op">$</span><span class="va">year</span>,</span>
<span>  y <span class="op">=</span> <span class="va">line_df</span><span class="op">$</span><span class="va">lifeExp</span>,</span>
<span>  col <span class="op">=</span> <span class="fu"><a href="../reference/aagi_cols.html">aagi_cols</a></span><span class="op">(</span><span class="st">"AAGI Turquoise"</span><span class="op">)</span>,</span>
<span>  type <span class="op">=</span> <span class="st">"l"</span>,</span>
<span>  main <span class="op">=</span> <span class="st">"Living longer"</span>,</span>
<span>  xlab <span class="op">=</span> <span class="st">"Year"</span>,</span>
<span>  ylab <span class="op">=</span> <span class="st">"Life expectancy"</span>,</span>
<span>  sub <span class="op">=</span> <span class="st">"Life expectancy in Malawi 1952-2007"</span></span>
<span><span class="op">)</span></span></code></pre></div>
<p><img src="theme.aagi_files/figure-html/line-base-1.png" width="720"></p>
</div>
<div class="section level4">
<h4 id="using-ggplot2-to-create-a-line-graph">Using {ggplot2} to Create a Line Graph<a class="anchor" aria-label="anchor" href="#using-ggplot2-to-create-a-line-graph"></a>
</h4>
<div class="sourceCode" id="cb12"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html" class="external-link">ggplot</a></span><span class="op">(</span><span class="va">line_df</span>, <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html" class="external-link">aes</a></span><span class="op">(</span>x <span class="op">=</span> <span class="va">year</span>, y <span class="op">=</span> <span class="va">lifeExp</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_path.html" class="external-link">geom_line</a></span><span class="op">(</span>colour <span class="op">=</span> <span class="fu"><a href="../reference/aagi_cols.html">aagi_cols</a></span><span class="op">(</span><span class="st">"AAGI Turquoise"</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="../reference/theme_aagi.html">theme_aagi</a></span><span class="op">(</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html" class="external-link">ylab</a></span><span class="op">(</span><span class="st">"Life expectancy"</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html" class="external-link">xlab</a></span><span class="op">(</span><span class="st">"Year"</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html" class="external-link">labs</a></span><span class="op">(</span>title <span class="op">=</span> <span class="st">"Living longer"</span>,</span>
<span>      subtitle <span class="op">=</span> <span class="st">"Life expectancy in Malawi 1952-2007"</span><span class="op">)</span></span></code></pre></div>
<p><img src="theme.aagi_files/figure-html/line-ggplot2-1.png" width="720"></p>
</div>
</div>
<div class="section level3">
<h3 id="scatterplots">Scatterplots<a class="anchor" aria-label="anchor" href="#scatterplots"></a>
</h3>
<div class="sourceCode" id="cb13"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Create data</span></span>
<span><span class="va">data</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame</a></span><span class="op">(</span></span>
<span>  x <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/seq.html" class="external-link">seq</a></span><span class="op">(</span><span class="fl">1</span><span class="op">:</span><span class="fl">100</span><span class="op">)</span> <span class="op">+</span> <span class="fl">0.1</span> <span class="op">*</span> <span class="fu"><a href="https://rdrr.io/r/base/seq.html" class="external-link">seq</a></span><span class="op">(</span><span class="fl">1</span><span class="op">:</span><span class="fl">100</span><span class="op">)</span> <span class="op">*</span> <span class="fu"><a href="https://rdrr.io/r/base/sample.html" class="external-link">sample</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">1</span><span class="op">:</span><span class="fl">10</span><span class="op">)</span>, <span class="fl">100</span> , replace <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span>,</span>
<span>  y <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/seq.html" class="external-link">seq</a></span><span class="op">(</span><span class="fl">1</span><span class="op">:</span><span class="fl">100</span><span class="op">)</span> <span class="op">+</span> <span class="fl">0.2</span> <span class="op">*</span> <span class="fu"><a href="https://rdrr.io/r/base/seq.html" class="external-link">seq</a></span><span class="op">(</span><span class="fl">1</span><span class="op">:</span><span class="fl">100</span><span class="op">)</span> <span class="op">*</span> <span class="fu"><a href="https://rdrr.io/r/base/sample.html" class="external-link">sample</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">1</span><span class="op">:</span><span class="fl">10</span><span class="op">)</span>, <span class="fl">100</span> , replace <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span>
<span><span class="op">)</span></span></code></pre></div>
<div class="section level4">
<h4 id="using-base-r-to-create-a-scatterplot">Using base R to Create a Scatterplot<a class="anchor" aria-label="anchor" href="#using-base-r-to-create-a-scatterplot"></a>
</h4>
<div class="sourceCode" id="cb14"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Basic scatterplot</span></span>
<span><span class="fu"><a href="../reference/plot_aagi.html">plot_aagi</a></span><span class="op">(</span>x <span class="op">=</span> <span class="va">data</span><span class="op">$</span><span class="va">x</span>, y <span class="op">=</span> <span class="va">data</span><span class="op">$</span><span class="va">y</span><span class="op">)</span></span></code></pre></div>
<p><img src="theme.aagi_files/figure-html/scatter-base-1.png" width="720"></p>
</div>
<div class="section level4">
<h4 id="using-ggplot2-to-create-a-scatterplot">Using {ggplot2} to Create a Scatterplot<a class="anchor" aria-label="anchor" href="#using-ggplot2-to-create-a-scatterplot"></a>
</h4>
<div class="sourceCode" id="cb15"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html" class="external-link">ggplot</a></span><span class="op">(</span>data <span class="op">=</span> <span class="va">data</span>, <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html" class="external-link">aes</a></span><span class="op">(</span>x <span class="op">=</span> <span class="va">x</span>, y <span class="op">=</span> <span class="va">y</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_point.html" class="external-link">geom_point</a></span><span class="op">(</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="../reference/theme_aagi.html">theme_aagi</a></span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
<p><img src="theme.aagi_files/figure-html/scatter-ggplot2-1.png" width="720"></p>
</div>
</div>
</div>
<div class="section level2">
<h2 id="colours-in-theme-aagi">Colours in {theme.aagi}<a class="anchor" aria-label="anchor" href="#colours-in-theme-aagi"></a>
</h2>
<div class="section level3">
<h3 id="aagi-colours">AAGI Colours<a class="anchor" aria-label="anchor" href="#aagi-colours"></a>
</h3>
<p>{theme.aagi} includes official AAGI colours for use in plots and also
applies them to {ggplot2} facet strips and uses them in the MS Word and
PowerPoint templates for colour matching in the outputs.</p>
<div class="sourceCode" id="cb16"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://scales.r-lib.org" class="external-link">scales</a></span><span class="op">)</span></span>
<span><span class="fu"><a href="https://scales.r-lib.org/reference/show_col.html" class="external-link">show_col</a></span><span class="op">(</span><span class="va">aagi_colours</span><span class="op">)</span></span></code></pre></div>
<p><img src="theme.aagi_files/figure-html/colours-1.png" width="720"></p>
</div>
<div class="section level3">
<h3 id="using-aagi-colours">Using AAGI Colours<a class="anchor" aria-label="anchor" href="#using-aagi-colours"></a>
</h3>
<p>We’ve already seen above in the <a href="#Linegraphs">line graph</a>
example how to use the colours in a graph. But for further
demonstration, here are a few more examples.</p>
<p>Here we’ll again use the {gapminder} data to construct a stacked bar
chart and use AAGI’s colours <code><a href="../reference/scale_fill_aagi.html">scale_fill_aagi()</a></code>.</p>
<div class="sourceCode" id="cb17"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co">#prepare data</span></span>
<span><span class="va">stacked_df</span> <span class="op">&lt;-</span> <span class="va">gapminder</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html" class="external-link">filter</a></span><span class="op">(</span><span class="va">year</span> <span class="op">==</span> <span class="fl">2007</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html" class="external-link">mutate</a></span><span class="op">(</span>lifeExpGrouped <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/cut.html" class="external-link">cut</a></span><span class="op">(</span></span>
<span>    <span class="va">lifeExp</span>,</span>
<span>    breaks <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0</span>, <span class="fl">50</span>, <span class="fl">65</span>, <span class="fl">80</span>, <span class="fl">90</span><span class="op">)</span>,</span>
<span>    labels <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"Under 50"</span>, <span class="st">"50-65"</span>, <span class="st">"65-80"</span>, <span class="st">"80+"</span><span class="op">)</span></span>
<span>  <span class="op">)</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/group_by.html" class="external-link">group_by</a></span><span class="op">(</span><span class="va">continent</span>, <span class="va">lifeExpGrouped</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/summarise.html" class="external-link">summarise</a></span><span class="op">(</span>continentPop <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/sum.html" class="external-link">sum</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/numeric.html" class="external-link">as.numeric</a></span><span class="op">(</span><span class="va">pop</span><span class="op">)</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="co">#&gt; `summarise()` has grouped output by 'continent'. You can override using the</span></span>
<span><span class="co">#&gt; `.groups` argument.</span></span>
<span></span>
<span><span class="co">#set order of stacks by changing factor levels</span></span>
<span><span class="va">stacked_df</span><span class="op">$</span><span class="va">lifeExpGrouped</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/factor.html" class="external-link">factor</a></span><span class="op">(</span><span class="va">stacked_df</span><span class="op">$</span><span class="va">lifeExpGrouped</span>,</span>
<span>                                  levels <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/rev.html" class="external-link">rev</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/levels.html" class="external-link">levels</a></span><span class="op">(</span><span class="va">stacked_df</span><span class="op">$</span><span class="va">lifeExpGrouped</span><span class="op">)</span><span class="op">)</span><span class="op">)</span></span>
<span></span>
<span><span class="co">#create plot</span></span>
<span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html" class="external-link">ggplot</a></span><span class="op">(</span>data <span class="op">=</span> <span class="va">stacked_df</span>,</span>
<span>      <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html" class="external-link">aes</a></span><span class="op">(</span>x <span class="op">=</span> <span class="va">continent</span>,</span>
<span>          y <span class="op">=</span> <span class="va">continentPop</span>,</span>
<span>          fill <span class="op">=</span> <span class="va">lifeExpGrouped</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_bar.html" class="external-link">geom_bar</a></span><span class="op">(</span>stat <span class="op">=</span> <span class="st">"identity"</span>,</span>
<span>          position <span class="op">=</span> <span class="st">"fill"</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="../reference/scale_fill_aagi.html">scale_fill_aagi</a></span><span class="op">(</span>name <span class="op">=</span> <span class="st">"Life expectancy"</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html" class="external-link">ylab</a></span><span class="op">(</span><span class="st">"Continental Population (%)"</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html" class="external-link">xlab</a></span><span class="op">(</span><span class="st">"Continent"</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="../reference/theme_aagi.html">theme_aagi</a></span><span class="op">(</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/scale_continuous.html" class="external-link">scale_y_continuous</a></span><span class="op">(</span>labels <span class="op">=</span> <span class="fu">scales</span><span class="fu">::</span><span class="va"><a href="https://scales.r-lib.org/reference/percent_format.html" class="external-link">percent</a></span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_abline.html" class="external-link">geom_hline</a></span><span class="op">(</span>yintercept <span class="op">=</span> <span class="fl">0</span>,</span>
<span>            linewidth <span class="op">=</span> <span class="fl">1</span>,</span>
<span>            colour <span class="op">=</span> <span class="st">"#474747"</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html" class="external-link">labs</a></span><span class="op">(</span>title <span class="op">=</span> <span class="st">"How life expectancy varies"</span>,</span>
<span>      subtitle <span class="op">=</span> <span class="st">"% of population by life expectancy band, 2007"</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/guides.html" class="external-link">guides</a></span><span class="op">(</span>fill <span class="op">=</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/guide_legend.html" class="external-link">guide_legend</a></span><span class="op">(</span>reverse <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<p><img src="theme.aagi_files/figure-html/aagi-facet-example-1.png" width="720"></p>
</div>
</div>
<div class="section level2">
<h2 id="advanced-uses">Advanced Uses<a class="anchor" aria-label="anchor" href="#advanced-uses"></a>
</h2>
<div class="section level3">
<h3 id="using-ggplot2-faceting">Using {ggplot2} Faceting<a class="anchor" aria-label="anchor" href="#using-ggplot2-faceting"></a>
</h3>
<p>As we’ll be using this figure for the next example, we’ll generate an
object in R called <code>p</code> and save it to R’s
<code><a href="https://rdrr.io/r/base/tempfile.html" class="external-link">tempdir()</a></code> for use in the next example as well.</p>
<div class="sourceCode" id="cb18"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co">#Prepare data</span></span>
<span><span class="va">facet</span> <span class="op">&lt;-</span> <span class="va">gapminder</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html" class="external-link">filter</a></span><span class="op">(</span><span class="va">continent</span> <span class="op">!=</span> <span class="st">"Americas"</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/group_by.html" class="external-link">group_by</a></span><span class="op">(</span><span class="va">continent</span>, <span class="va">year</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/summarise.html" class="external-link">summarise</a></span><span class="op">(</span>pop <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/sum.html" class="external-link">sum</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/numeric.html" class="external-link">as.numeric</a></span><span class="op">(</span><span class="va">pop</span><span class="op">)</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="co">#&gt; `summarise()` has grouped output by 'continent'. You can override using the</span></span>
<span><span class="co">#&gt; `.groups` argument.</span></span>
<span></span>
<span><span class="va">col_values</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/unname.html" class="external-link">unname</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span></span>
<span>  <span class="fu"><a href="../reference/aagi_cols.html">aagi_cols</a></span><span class="op">(</span><span class="st">"AAGI Turquoise"</span><span class="op">)</span>,</span>
<span>  <span class="fu"><a href="../reference/aagi_cols.html">aagi_cols</a></span><span class="op">(</span><span class="st">"AAGI Green"</span><span class="op">)</span>,</span>
<span>  <span class="fu"><a href="../reference/aagi_cols.html">aagi_cols</a></span><span class="op">(</span><span class="st">"AAGI Yellow"</span><span class="op">)</span>,</span>
<span>  <span class="fu"><a href="../reference/aagi_cols.html">aagi_cols</a></span><span class="op">(</span><span class="st">"AAGI Blue"</span><span class="op">)</span></span>
<span><span class="op">)</span><span class="op">)</span></span>
<span></span>
<span><span class="co">#Make plot</span></span>
<span><span class="va">p</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html" class="external-link">ggplot</a></span><span class="op">(</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_ribbon.html" class="external-link">geom_area</a></span><span class="op">(</span>data <span class="op">=</span> <span class="va">facet</span>, <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html" class="external-link">aes</a></span><span class="op">(</span>x <span class="op">=</span> <span class="va">year</span>, y <span class="op">=</span> <span class="va">pop</span>, fill <span class="op">=</span> <span class="va">continent</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/scale_manual.html" class="external-link">scale_fill_manual</a></span><span class="op">(</span>values <span class="op">=</span> <span class="va">col_values</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/facet_wrap.html" class="external-link">facet_wrap</a></span><span class="op">(</span><span class="op">~</span> <span class="va">continent</span>, ncol <span class="op">=</span> <span class="fl">5</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/scale_continuous.html" class="external-link">scale_y_continuous</a></span><span class="op">(</span>breaks <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0</span>, <span class="fl">2000000000</span>, <span class="fl">4000000000</span><span class="op">)</span>,</span>
<span>                    labels <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0</span>, <span class="st">"2bn"</span>, <span class="st">"4bn"</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="../reference/theme_aagi.html">theme_aagi</a></span><span class="op">(</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_abline.html" class="external-link">geom_hline</a></span><span class="op">(</span>yintercept <span class="op">=</span> <span class="fl">0</span>,</span>
<span>            linewidth <span class="op">=</span> <span class="fl">1</span>,</span>
<span>            colour <span class="op">=</span> <span class="st">"#474747"</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/theme.html" class="external-link">theme</a></span><span class="op">(</span>legend.position <span class="op">=</span> <span class="st">"none"</span>, axis.text.x <span class="op">=</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/element.html" class="external-link">element_blank</a></span><span class="op">(</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html" class="external-link">labs</a></span><span class="op">(</span>title <span class="op">=</span> <span class="st">"Asia's rapid growth"</span>, subtitle <span class="op">=</span> <span class="st">"Population growth by continent, 1952-2007"</span><span class="op">)</span></span>
<span></span>
<span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggsave.html" class="external-link">ggsave</a></span><span class="op">(</span><span class="va">p</span>, filename <span class="op">=</span> <span class="st">"AAGI.png"</span>, path <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/tempfile.html" class="external-link">tempdir</a></span><span class="op">(</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="co">#&gt; Saving 7.5 x 5 in image</span></span>
<span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="va">p</span><span class="op">)</span></span></code></pre></div>
<p><img src="theme.aagi_files/figure-html/ggplot2-facet-1.png" width="720"></p>
</div>
<div class="section level3">
<h3 id="adding-the-aagi-logo-to-your-figures">Adding the AAGI Logo to Your Figures<a class="anchor" aria-label="anchor" href="#adding-the-aagi-logo-to-your-figures"></a>
</h3>
<p>Add the AAGI logo to the upper left of the previous plot as per the
style guide. Use the <code><a href="../reference/add_aagi_logo.html">add_aagi_logo()</a></code> function to add the
logo automatically to a previously saved image file. In this case, the
previous example used to show the faceting colours has been saved to R’s
<code><a href="https://rdrr.io/r/base/tempfile.html" class="external-link">tempdir()</a></code>. You can save using <code><a href="https://rdrr.io/r/base/tempfile.html" class="external-link">tempdir()</a></code> as
illustrated above or save on your Documents folder or elsewhere and
access it from there as well. The image is resized to be 600x1000 pixels
before being displayed here. Feel free to adjust as necessary.</p>
<div class="sourceCode" id="cb19"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://docs.ropensci.org/magick/" class="external-link">magick</a></span><span class="op">)</span></span>
<span><span class="fu"><a href="../reference/add_aagi_logo.html">add_aagi_logo</a></span><span class="op">(</span>file_in <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/file.path.html" class="external-link">file.path</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/tempfile.html" class="external-link">tempdir</a></span><span class="op">(</span><span class="op">)</span>, <span class="st">"AAGI.png"</span><span class="op">)</span>,</span>
<span>              file_out <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/file.path.html" class="external-link">file.path</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/tempfile.html" class="external-link">tempdir</a></span><span class="op">(</span><span class="op">)</span>, <span class="st">"AAGI_logo.png"</span><span class="op">)</span><span class="op">)</span></span>
<span></span>
<span><span class="fu"><a href="https://docs.ropensci.org/magick/reference/editing.html" class="external-link">image_read</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/file.path.html" class="external-link">file.path</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/tempfile.html" class="external-link">tempdir</a></span><span class="op">(</span><span class="op">)</span>, <span class="st">"AAGI_logo.png"</span><span class="op">)</span><span class="op">)</span> <span class="op">|&gt;</span> </span>
<span>  <span class="fu"><a href="https://docs.ropensci.org/magick/reference/transform.html" class="external-link">image_resize</a></span><span class="op">(</span><span class="st">"600x1000"</span><span class="op">)</span> <span class="op">|&gt;</span> </span>
<span>  <span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="op">)</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># A tibble: 1 × 7</span></span></span>
<span><span class="co">#&gt;   format width height colorspace matte filesize density</span></span>
<span><span class="co">#&gt;   <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>  <span style="color: #949494; font-style: italic;">&lt;int&gt;</span>  <span style="color: #949494; font-style: italic;">&lt;int&gt;</span> <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>      <span style="color: #949494; font-style: italic;">&lt;lgl&gt;</span>    <span style="color: #949494; font-style: italic;">&lt;int&gt;</span> <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>  </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">1</span> PNG      600    480 sRGB       FALSE        0 118x118</span></span></code></pre></div>
<p><img src="theme.aagi_files/figure-html/add-dpird-logo-1.png"><!-- --></p>
</div>
</div>
<div class="section level2">
<h2 id="saving-ggplot2-figures">Saving {ggplot2} Figures<a class="anchor" aria-label="anchor" href="#saving-ggplot2-figures"></a>
</h2>
<p>When saving figures generated with {ggplot2} that use {theme.aagi} as
the theme, PDFs will not properly embed the Proxima Nova font that is
used. In order for you to save your figures and preserve the font, you
can either save as a .png file or use the <code>device</code> option in
<code><a href="https://ggplot2.tidyverse.org/reference/ggsave.html" class="external-link">ggsave()</a></code>, which is demonstrated as follows.</p>
<div class="sourceCode" id="cb20"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggsave.html" class="external-link">ggsave</a></span><span class="op">(</span></span>
<span>  filename <span class="op">=</span> <span class="st">"cairo_font.pdf"</span>,</span>
<span>  plot <span class="op">=</span> <span class="va">p</span>,</span>
<span>  device <span class="op">=</span> <span class="va">cairo_pdf</span>,</span>
<span>  path <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/tempfile.html" class="external-link">tempdir</a></span><span class="op">(</span><span class="op">)</span></span>
<span><span class="op">)</span></span>
<span><span class="co">#&gt; Saving 7.5 x 5 in image</span></span></code></pre></div>
<div class="section level3">
<h3 id="cairo-instructions-for-macos">Cairo Instructions for macOS<a class="anchor" aria-label="anchor" href="#cairo-instructions-for-macos"></a>
</h3>
<p>You should already have the Cairo graphics library installed when you
install R, unless you use the Homebrew version, <em>e.g.</em>,
<code>brew install r</code>. You can verify that you have Cairo support
by running the <code><a href="https://rdrr.io/r/base/capabilities.html" class="external-link">capabilities()</a></code> function; <code>TRUE</code>
should show up under cairo:</p>
<div class="sourceCode" id="cb21"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/capabilities.html" class="external-link">capabilities</a></span><span class="op">(</span><span class="op">)</span></span>
<span><span class="co">#&gt;        jpeg         png        tiff       tcltk         X11        aqua </span></span>
<span><span class="co">#&gt;        TRUE        TRUE        TRUE        TRUE       FALSE       FALSE </span></span>
<span><span class="co">#&gt;    http/ftp     sockets      libxml        fifo      cledit       iconv </span></span>
<span><span class="co">#&gt;        TRUE        TRUE       FALSE        TRUE       FALSE        TRUE </span></span>
<span><span class="co">#&gt;         NLS       Rprof     profmem       cairo         ICU long.double </span></span>
<span><span class="co">#&gt;        TRUE        TRUE        TRUE        TRUE        TRUE        TRUE </span></span>
<span><span class="co">#&gt;     libcurl </span></span>
<span><span class="co">#&gt;        TRUE</span></span></code></pre></div>
<p>If you do not see <code>TRUE</code> under “cairo”, check that you’ve
installed a version of R using the Homebrew cask, different than
<code>brew install r</code>, this installs the vanilla version of R as
built by the R team or using rig, <a href="https://github.com/r-lib/rig" class="external-link uri">https://github.com/r-lib/rig</a>, to manage your R
installation if you’re not just installing the default R binary.</p>
<p>So, you should not need to install any R-specific Cairo libraries or
anything for this to work. However, you will need an X11 window system
first, like XQuartz. You can install XQuartz like so.</p>
<div class="sourceCode" id="cb22"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb22-1"><a href="#cb22-1" tabindex="-1"></a><span class="ex">$</span> brew install xquartz</span></code></pre></div>
</div>
<div class="section level3">
<h3 id="cairo-instructions-for-windows">Cairo Instructions for Windows<a class="anchor" aria-label="anchor" href="#cairo-instructions-for-windows"></a>
</h3>
<p>You will already have the Cairo graphics library installed when you
install R. There is no need to do anything else to Create it work on
this platform.</p>
<div id="refs" class="references csl-bib-body hanging-indent" entry-spacing="0">
<div id="ref-wilkinson2012grammar" class="csl-entry">
Wilkinson, Leland. 2012. <em>The Grammar of Graphics</em>. Springer.
</div>
</div>
</div>
</div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside>
</div>



    <footer><div class="pkgdown-footer-left">
  <p>Developed by Adam H. Sparks, Kenyon Ng, Tinula Kariyawasam, Matt Cowgill, Will Mackey.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.0.</p>
</div>

    </footer>
</div>





  </body>
</html>
